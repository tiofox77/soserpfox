<?php

/**
 * Script de Teste - Registro de Usu√°rio e Email de Boas-Vindas
 * 
 * Este script testa todo o processo de registro e envio de email
 * para identificar problemas no sistema de emails.
 * 
 * Uso: php test-register-email.php
 */

require __DIR__.'/vendor/autoload.php';

$app = require_once __DIR__.'/bootstrap/app.php';
$app->make('Illuminate\Contracts\Console\Kernel')->bootstrap();

echo "\n";
echo "====================================================\n";
echo "  TESTE DE REGISTRO E EMAIL DE BOAS-VINDAS\n";
echo "====================================================\n\n";

// Configura√ß√µes do teste
$testEmail = 'tiofox2019@gmail.com';
$testName = 'Teste TioFox';
$testPassword = 'password123';
$testCompanyName = 'Empresa Teste TioFox';
$baseUrl = 'http://soserp.test';

echo "üìß Email de teste: {$testEmail}\n";
echo "üë§ Nome: {$testName}\n";
echo "üè¢ Empresa: {$testCompanyName}\n\n";

// 1. Verificar configura√ß√µes de email no BANCO (SMTP Settings)
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "1Ô∏è‚É£  VERIFICANDO CONFIGURA√á√ïES SMTP NO BANCO\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

// Verificar configura√ß√µes SMTP no banco de dados
$smtpSettings = \App\Models\SmtpSetting::active()->get();

echo "Total de configura√ß√µes SMTP no banco: " . $smtpSettings->count() . "\n\n";

if ($smtpSettings->isEmpty()) {
    echo "‚ùå ERRO: Nenhuma configura√ß√£o SMTP encontrada no banco!\n\n";
    echo "SOLU√á√ÉO:\n";
    echo "1. Acesse: {$baseUrl}/superadmin/smtp-settings\n";
    echo "2. Clique em 'Nova Configura√ß√£o SMTP'\n";
    echo "3. Preencha os dados do servidor SMTP\n";
    echo "4. Marque como 'Padr√£o' e 'Ativo'\n";
    echo "5. Teste a conex√£o\n\n";
    echo "OU execute via Tinker:\n";
    echo "php artisan tinker\n";
    echo "\\App\\Models\\SmtpSetting::create([\n";
    echo "    'host' => 'smtp.gmail.com',\n";
    echo "    'port' => 587,\n";
    echo "    'username' => 'tiofox2019@gmail.com',\n";
    echo "    'password' => 'xxxx-xxxx-xxxx-xxxx',\n";
    echo "    'encryption' => 'tls',\n";
    echo "    'from_email' => 'tiofox2019@gmail.com',\n";
    echo "    'from_name' => 'SOSERP',\n";
    echo "    'is_default' => true,\n";
    echo "    'is_active' => true,\n";
    echo "]);\n\n";
    exit(1);
}

// Mostrar configura√ß√µes encontradas
foreach ($smtpSettings as $smtp) {
    echo "üìß Configura√ß√£o SMTP encontrada:\n";
    echo "   ID: {$smtp->id}\n";
    echo "   Host: {$smtp->host}\n";
    echo "   Port: {$smtp->port}\n";
    echo "   Encryption: {$smtp->encryption}\n";
    echo "   Username: {$smtp->username}\n";
    echo "   From: {$smtp->from_email} ({$smtp->from_name})\n";
    echo "   Padr√£o: " . ($smtp->is_default ? 'Sim' : 'N√£o') . "\n";
    echo "   Ativo: " . ($smtp->is_active ? 'Sim' : 'N√£o') . "\n";
    echo "   Tenant: " . ($smtp->tenant_id ? "#{$smtp->tenant_id}" : 'Global') . "\n";
    echo "   √öltimo teste: " . ($smtp->last_tested_at ? $smtp->last_tested_at->format('d/m/Y H:i') : 'Nunca') . "\n\n";
}

// Pegar configura√ß√£o padr√£o
$defaultSmtp = \App\Models\SmtpSetting::default()->active()->first();

if (!$defaultSmtp) {
    echo "‚ö†Ô∏è  AVISO: Nenhuma configura√ß√£o SMTP marcada como PADR√ÉO!\n";
    echo "   Marque uma configura√ß√£o como padr√£o em: {$baseUrl}/superadmin/smtp-settings\n\n";
    
    // Usar a primeira ativa
    $defaultSmtp = $smtpSettings->first();
    echo "   Usando a primeira configura√ß√£o ativa: {$defaultSmtp->host}\n\n";
}

echo "‚úÖ Configura√ß√£o SMTP padr√£o: {$defaultSmtp->host}:{$defaultSmtp->port}\n\n";

// 2. Verificar template de email
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "2Ô∏è‚É£  VERIFICANDO TEMPLATE DE EMAIL 'welcome'\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

$template = \App\Models\EmailTemplate::where('slug', 'welcome')->first();

if (!$template) {
    echo "‚ùå ERRO: Template 'welcome' n√£o encontrado no banco!\n";
    echo "   Execute: php artisan db:seed --class=EmailTemplateSeeder\n\n";
    exit(1);
}

echo "‚úÖ Template encontrado: {$template->name}\n";
echo "   Assunto: {$template->subject}\n";
echo "   Ativo: " . ($template->is_active ? 'Sim' : 'N√£o') . "\n\n";

if (!$template->is_active) {
    echo "‚ö†Ô∏è  AVISO: Template est√° INATIVO!\n";
    echo "   Ativando template...\n";
    $template->update(['is_active' => true]);
    echo "‚úÖ Template ativado\n\n";
}

// 3. Limpar usu√°rio de teste se existir
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "3Ô∏è‚É£  LIMPANDO DADOS ANTIGOS DE TESTE\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

$existingUser = \App\Models\User::where('email', $testEmail)->first();
if ($existingUser) {
    echo "üóëÔ∏è  Removendo usu√°rio existente...\n";
    
    // Remover tenant associado
    if ($existingUser->tenant_id) {
        $tenant = \App\Models\Tenant::find($existingUser->tenant_id);
        if ($tenant) {
            echo "   Removendo tenant: {$tenant->name}\n";
            $tenant->delete();
        }
    }
    
    $existingUser->delete();
    echo "‚úÖ Dados antigos removidos\n\n";
} else {
    echo "‚úÖ Nenhum dado antigo encontrado\n\n";
}

// 4. Testar envio de email simples USANDO AS CONFIGURA√á√ïES DO BANCO
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "4Ô∏è‚É£  TESTANDO ENVIO DE EMAIL SIMPLES\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

try {
    // Configurar SMTP usando as configura√ß√µes do banco
    echo "Configurando SMTP do banco...\n";
    $defaultSmtp->configure();
    echo "‚úÖ SMTP configurado: {$defaultSmtp->host}:{$defaultSmtp->port}\n\n";
    
    echo "Enviando email de teste...\n";
    \Illuminate\Support\Facades\Mail::raw('üß™ Este √© um email de teste do sistema SOSERP.\n\nSe voc√™ recebeu este email, as configura√ß√µes SMTP est√£o corretas!', function ($message) use ($testEmail) {
        $message->to($testEmail)
                ->subject('üß™ Teste de Email - SOSERP');
    });
    
    echo "‚úÖ Email de teste enviado com sucesso!\n";
    echo "   Servidor: {$defaultSmtp->host}:{$defaultSmtp->port}\n";
    echo "   De: {$defaultSmtp->from_email}\n";
    echo "   Para: {$testEmail}\n";
    echo "   Verifique a caixa de entrada (e SPAM)\n\n";
    
} catch (\Exception $e) {
    echo "‚ùå ERRO ao enviar email de teste:\n";
    echo "   {$e->getMessage()}\n\n";
    echo "SOLU√á√ÉO:\n";
    echo "1. Acesse: {$baseUrl}/superadmin/smtp-settings\n";
    echo "2. Edite a configura√ß√£o SMTP\n";
    echo "3. Clique em 'Testar Conex√£o'\n";
    echo "4. Verifique as credenciais (senha de APP do Gmail!)\n";
    echo "5. Teste novamente\n\n";
    exit(1);
}

// 5. Criar usu√°rio e tenant de teste
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "5Ô∏è‚É£  CRIANDO USU√ÅRIO E TENANT DE TESTE\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

DB::beginTransaction();

try {
    // Criar tenant
    $tenant = \App\Models\Tenant::create([
        'name' => $testCompanyName,
        'slug' => \Illuminate\Support\Str::slug($testCompanyName . '-' . time()),
        'nif' => '999999999LA',
        'address' => 'Endere√ßo de Teste',
        'phone' => '+244 939 779 902',
        'email' => $testEmail,
        'is_active' => true,
        'trial_ends_at' => now()->addDays(30),
    ]);
    
    echo "‚úÖ Tenant criado: {$tenant->name} (ID: {$tenant->id})\n";
    
    // Criar usu√°rio
    $user = \App\Models\User::create([
        'tenant_id' => $tenant->id,
        'name' => $testName,
        'email' => $testEmail,
        'password' => \Illuminate\Support\Facades\Hash::make($testPassword),
        'email_verified_at' => now(),
        'is_active' => true,
    ]);
    
    echo "‚úÖ Usu√°rio criado: {$user->name} (ID: {$user->id})\n\n";
    
    DB::commit();
    
} catch (\Exception $e) {
    DB::rollBack();
    echo "‚ùå ERRO ao criar usu√°rio/tenant:\n";
    echo "   {$e->getMessage()}\n\n";
    exit(1);
}

// 6. Enviar email de boas-vindas
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "6Ô∏è‚É£  ENVIANDO EMAIL DE BOAS-VINDAS\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

try {
    $emailData = [
        'user_name' => $user->name,
        'user_email' => $user->email,
        'tenant_name' => $tenant->name,
        'login_url' => $baseUrl . '/login',
        'trial_days' => 30,
        'support_email' => config('mail.from.address'),
    ];
    
    echo "Dados do email:\n";
    foreach ($emailData as $key => $value) {
        echo "  - {$key}: {$value}\n";
    }
    echo "\n";
    
    \Illuminate\Support\Facades\Mail::to($user->email)
        ->send(new \App\Mail\TemplateMail('welcome', $emailData, $tenant->id));
    
    echo "‚úÖ EMAIL DE BOAS-VINDAS ENVIADO COM SUCESSO!\n\n";
    
} catch (\Exception $e) {
    echo "‚ùå ERRO ao enviar email de boas-vindas:\n";
    echo "   {$e->getMessage()}\n";
    echo "   Arquivo: {$e->getFile()}\n";
    echo "   Linha: {$e->getLine()}\n\n";
    
    echo "Stack trace:\n";
    echo $e->getTraceAsString() . "\n\n";
    exit(1);
}

// 7. Verificar logs
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "7Ô∏è‚É£  VERIFICANDO LOGS\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n";

$logFile = storage_path('logs/laravel.log');
if (file_exists($logFile)) {
    $lines = file($logFile);
    $lastLines = array_slice($lines, -20);
    
    echo "√öltimas 20 linhas do log:\n";
    echo "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n";
    foreach ($lastLines as $line) {
        echo $line;
    }
    echo "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n";
} else {
    echo "‚ö†Ô∏è  Arquivo de log n√£o encontrado\n\n";
}

// 8. Resumo final
echo "====================================================\n";
echo "  ‚úÖ TESTE CONCLU√çDO COM SUCESSO!\n";
echo "====================================================\n\n";

echo "üìã RESUMO:\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "‚úÖ Configura√ß√µes de email: OK\n";
echo "‚úÖ Template 'welcome': OK\n";
echo "‚úÖ Email de teste simples: ENVIADO\n";
echo "‚úÖ Usu√°rio criado: {$user->email}\n";
echo "‚úÖ Tenant criado: {$tenant->name}\n";
echo "‚úÖ Email de boas-vindas: ENVIADO\n\n";

echo "üîç PR√ìXIMOS PASSOS:\n";
echo "‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n";
echo "1. Verifique a caixa de entrada de: {$testEmail}\n";
echo "2. Verifique a pasta de SPAM/Lixo eletr√¥nico\n";
echo "3. Se n√£o recebeu, verifique:\n";
echo "   - Configura√ß√µes SMTP no .env\n";
echo "   - Logs do servidor de email\n";
echo "   - Firewall/Portas bloqueadas\n";
echo "4. Teste fazer login com:\n";
echo "   Email: {$testEmail}\n";
echo "   Senha: {$testPassword}\n\n";

echo "üìÅ Logs dispon√≠veis em:\n";
echo "   {$logFile}\n\n";

echo "üßπ Para limpar dados de teste:\n";
echo "   php artisan tinker\n";
echo "   User::where('email', '{$testEmail}')->first()->delete();\n";
echo "   Tenant::where('email', '{$testEmail}')->first()->delete();\n\n";

echo "====================================================\n\n";
