# Dashboard do M√≥dulo RH üìä‚ú®

## üéØ Vis√£o Geral

Dashboard completo e moderno para o **M√≥dulo de Recursos Humanos**, com m√©tricas em tempo real, gr√°ficos interativos e a√ß√µes r√°pidas.

---

## üèóÔ∏è Arquitetura

### **Componentes:**

1. **Backend:** `app/Livewire/HR/HRDashboard.php`
2. **Frontend:** `resources/views/livewire/hr/dashboard.blade.php`
3. **Rota:** `/hr/dashboard`

---

## üìä M√©tricas e Estat√≠sticas

### **1. Cards de Estat√≠sticas (Top)**

#### **Total de Funcion√°rios** üîµ
- **Valor:** Count total
- **Detalhes:** Funcion√°rios ativos
- **Cor:** Azul gradiente
- **Anima√ß√£o:** card-3d

#### **Presen√ßas Hoje** üü¢
- **Valor:** Count presentes hoje
- **Detalhes:** Atrasados hoje
- **Cor:** Verde gradiente
- **Anima√ß√£o:** card-zoom

#### **De F√©rias Hoje** üü£
- **Valor:** Count em f√©rias
- **Detalhes:** F√©rias pendentes
- **Cor:** Roxo gradiente
- **Anima√ß√£o:** card-glow

#### **Aus√™ncias Hoje** üî¥
- **Valor:** Count ausentes
- **Detalhes:** Total de registros
- **Cor:** Vermelho gradiente
- **Anima√ß√£o:** card-3d

---

### **2. Gr√°fico de Presen√ßas da Semana** üìà

**Tipo:** Gr√°fico de barras vertical

**Dados:**
- √öltimos 7 dias
- Count de presen√ßas por dia
- Altura proporcional ao m√°ximo

**Intera√ß√£o:**
- Hover mostra tooltip com n√∫mero exato
- Barras com gradiente azul-√≠ndigo
- Labels com dia da semana

**C√≥digo:**
```php
$weekAttendance = [];
for ($i = 6; $i >= 0; $i--) {
    $date = Carbon::now()->subDays($i);
    $weekAttendance[] = [
        'date' => $date->format('d/m'),
        'day' => $date->dayName,
        'present' => Attendance::whereDate('date', $date)->count(),
    ];
}
```

---

### **3. Funcion√°rios por Departamento** üè¢

**Tipo:** Barras de progresso horizontais

**Dados:**
- Agrupado por departamento
- Count de funcion√°rios
- Percentual do total
- Cores variadas

**Features:**
```php
‚úÖ Cores rotativas (blue, green, purple, orange...)
‚úÖ Percentual calculado automaticamente
‚úÖ Anima√ß√£o de preenchimento
‚úÖ Gradiente nas barras
```

**Exemplo Visual:**
```
Vendas          ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 45 (35.5%)
Administrativo  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà     30 (23.6%)
TI              ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà          20 (15.7%)
```

---

### **4. √öltimas Admiss√µes** üë§

**Tipo:** Lista com avatar

**Dados:**
- 5 funcion√°rios mais recentes
- Ordenado por data de admiss√£o desc
- Avatar com iniciais
- Cargo do funcion√°rio

**Layout:**
```
[AV] Nome do Funcion√°rio
     Cargo do Funcion√°rio
                            12/10/2025
                            h√° 2 dias
```

---

### **5. Aniversariantes do M√™s** üéÇ

**Tipo:** Lista lateral

**Dados:**
- Funcion√°rios ativos
- Anivers√°rio no m√™s atual
- Ordenado por dia do m√™s
- Badge "HOJE!" para aniversariantes

**Features:**
```php
‚úÖ Avatar com gradiente rosa
‚úÖ Data do anivers√°rio (dd/mm)
‚úÖ Destaque especial para hoje
‚úÖ Emoji üéâ para anivers√°rio do dia
```

---

### **6. Pr√≥ximas F√©rias** ‚úàÔ∏è

**Tipo:** Lista lateral

**Dados:**
- F√©rias aprovadas
- Start date > hoje
- 5 pr√≥ximas
- Per√≠odo de f√©rias

**Layout:**
```
[AV] Nome Funcion√°rio
     üìÖ 12/10 at√© 26/10
```

---

### **7. A√ß√µes R√°pidas** ‚ö°

**Bot√µes com links:**

1. üîµ **Novo Funcion√°rio** ‚Üí `/hr/employees`
2. üü¢ **Registrar Presen√ßa** ‚Üí `/hr/attendance`
3. üü£ **Aprovar F√©rias** ‚Üí `/hr/vacations`
4. üü† **Departamentos** ‚Üí `/hr/departments`

**Estilo:**
- Gradientes coloridos
- Full width
- Shadow no hover
- √çcones Font Awesome

---

## üö® Alertas Din√¢micos

### **Sistema de Alertas:**

```php
$alerts = [];

// F√©rias pendentes
if ($pendingVacations > 0) {
    $alerts[] = [
        'type' => 'warning',
        'icon' => 'fa-umbrella-beach',
        'title' => 'F√©rias Pendentes',
        'message' => "$pendingVacations solicita√ß√£o(√µes)...",
        'action' => route('hr.vacations.index'),
    ];
}

// Documentos vencendo
if ($expiringDocuments > 0) {
    $alerts[] = [
        'type' => 'danger',
        'icon' => 'fa-id-card',
        'title' => 'Documentos Vencendo',
        'message' => "$expiringDocuments funcion√°rio(s)...",
        'action' => route('hr.employees.index'),
    ];
}
```

**Tipos de Alertas:**
- ‚ö†Ô∏è **Warning:** Amarelo (a√ß√µes pendentes)
- üî¥ **Danger:** Vermelho (urgente)

**Visual:**
- Card com border left 4px
- Background suave da cor
- Bot√£o CTA alinhado √† direita

---

## üé® Design System

### **Paleta de Cores:**

| Elemento | Cor Principal | Gradiente | Uso |
|----------|---------------|-----------|-----|
| **Header** | Azul | `from-blue-600 to-indigo-600` | Cabe√ßalho |
| **Funcion√°rios** | Azul | `from-blue-500 to-indigo-600` | Card stats |
| **Presen√ßas** | Verde | `from-green-500 to-emerald-600` | Card stats |
| **F√©rias** | Roxo | `from-purple-500 to-pink-600` | Card stats |
| **Aus√™ncias** | Vermelho | `from-red-500 to-pink-600` | Card stats |
| **Anivers√°rios** | Rosa | `from-pink-500 to-rose-600` | Lista lateral |
| **Admiss√µes** | Roxo | `from-purple-500 to-pink-600` | Lista |

### **Anima√ß√µes:**

```css
‚úÖ fadeInUp - Entrada dos cards (stagger)
‚úÖ card-hover - Eleva√ß√£o no hover
‚úÖ card-3d - Rota√ß√£o 3D sutil
‚úÖ card-zoom - Zoom scale
‚úÖ card-glow - Shadow colorido
‚úÖ icon-float - √çcone flutua
```

### **Typography:**

```css
T√≠tulos: text-3xl font-bold
Subt√≠tulos: text-lg font-bold
Labels: text-sm font-semibold
Valores: text-4xl font-bold
Detalhes: text-xs text-gray-500
```

---

## üì± Layout Responsivo

### **Desktop (> 1024px):**
```
+------------------+------------------+------------------+------------------+
| Card Stats 1     | Card Stats 2     | Card Stats 3     | Card Stats 4     |
+------------------+------------------+------------------+------------------+
| Gr√°fico Semana                                         | Aniversariantes  |
| (2/3 width)                                            | (1/3 width)      |
+--------------------------------------------------------+------------------+
| Funcion√°rios por Depto                                 | Pr√≥ximas F√©rias  |
+--------------------------------------------------------+------------------+
| √öltimas Admiss√µes                                      | A√ß√µes R√°pidas    |
+--------------------------------------------------------+------------------+
```

### **Tablet (768px - 1024px):**
```
Grid 2 colunas para stats cards
Conte√∫do principal stacked
Sidebars abaixo do conte√∫do
```

### **Mobile (< 768px):**
```
Stack completo vertical
Cards full width
Gr√°ficos adaptados
Bot√µes full width
```

---

## üîß Backend - Queries Principais

### **Estat√≠sticas Gerais:**
```php
$stats = [
    'total_employees' => Employee::count(),
    'active_employees' => Employee::where('status', 'active')->count(),
    'on_vacation' => Vacation::where('status', 'approved')
        ->where('start_date', '<=', today())
        ->where('end_date', '>=', today())
        ->count(),
];
```

### **Presen√ßas do Dia:**
```php
$attendanceToday = [
    'present' => Attendance::whereDate('date', today())
        ->where('status', 'present')->count(),
    'late' => Attendance::whereDate('date', today())
        ->where('status', 'late')->count(),
    'absent' => Attendance::whereDate('date', today())
        ->where('status', 'absent')->count(),
];
```

### **Funcion√°rios por Departamento:**
```php
$employeesByDepartment = Employee::where('status', 'active')
    ->select('department_id', DB::raw('count(*) as total'))
    ->with('department')
    ->groupBy('department_id')
    ->get();
```

### **Presen√ßas da Semana:**
```php
$weekAttendance = [];
for ($i = 6; $i >= 0; $i--) {
    $date = Carbon::now()->subDays($i);
    $weekAttendance[] = [
        'date' => $date->format('d/m'),
        'day' => $date->dayName,
        'present' => Attendance::whereDate('date', $date)
            ->where('status', 'present')->count(),
    ];
}
```

---

## üéØ Features Implementadas

### **M√©tricas:**
- ‚úÖ Total de funcion√°rios (ativos/inativos)
- ‚úÖ Presen√ßas hoje (presentes/atrasados/ausentes)
- ‚úÖ Funcion√°rios de f√©rias hoje
- ‚úÖ F√©rias pendentes de aprova√ß√£o
- ‚úÖ Documentos vencendo (30 dias)

### **Visualiza√ß√µes:**
- ‚úÖ Gr√°fico de barras (presen√ßas 7 dias)
- ‚úÖ Barras de progresso (funcion√°rios por depto)
- ‚úÖ Listas com avatars
- ‚úÖ Alertas contextuais

### **A√ß√µes R√°pidas:**
- ‚úÖ Links para m√≥dulos principais
- ‚úÖ Bot√µes gradiente estilizados
- ‚úÖ √çcones representativos

### **Interatividade:**
- ‚úÖ Tooltips no gr√°fico
- ‚úÖ Hover effects em cards
- ‚úÖ Anima√ß√µes de entrada
- ‚úÖ Links clic√°veis

---

## üöÄ Performance

### **Otimiza√ß√µes:**

1. **Eager Loading:**
```php
->with(['department', 'position', 'employee'])
```

2. **Sele√ß√£o Espec√≠fica:**
```php
->select('department_id', DB::raw('count(*) as total'))
```

3. **Queries Otimizadas:**
```php
->whereDate() // Usa √≠ndice de data
->groupBy() // Agrupa no banco
```

4. **Cache (Futuro):**
```php
Cache::remember('hr.dashboard.stats', 300, function() {
    // Queries aqui
});
```

---

## üìä Dados Exibidos

### **Cards de Stats:**
| M√©trica | Fonte | Query |
|---------|-------|-------|
| Total Funcion√°rios | `employees` | `count()` |
| Ativos | `employees` | `where('status', 'active')` |
| Presen√ßas Hoje | `attendances` | `whereDate('date', today())` |
| De F√©rias | `vacations` | `approved + today between dates` |
| Aus√™ncias | `attendances` | `where('status', 'absent')` |

### **Listas:**
| Lista | Fonte | Limite | Ordem |
|-------|-------|--------|-------|
| Aniversariantes | `employees` | 5 | `DAY(birth_date)` |
| Admiss√µes | `employees` | 5 | `hire_date DESC` |
| Pr√≥ximas F√©rias | `vacations` | 5 | `start_date ASC` |

---

## üéì Padr√µes Seguidos

### **Estrutura:**
‚úÖ Header gradiente azul  
‚úÖ Stats cards com anima√ß√µes  
‚úÖ Grid responsivo 2/3 + 1/3  
‚úÖ Alertas no topo  
‚úÖ A√ß√µes r√°pidas na sidebar  

### **Visual:**
‚úÖ Gradientes coloridos  
‚úÖ Avatares com iniciais  
‚úÖ Badges informativos  
‚úÖ Icons Font Awesome  
‚úÖ Shadow e hover effects  

### **C√≥digo:**
‚úÖ Componente Livewire  
‚úÖ Queries otimizadas  
‚úÖ Multi-tenancy  
‚úÖ Eager loading  
‚úÖ Documenta√ß√£o inline  

---

## üß™ Testes

### **Verificar:**

1. **M√©tricas Corretas:**
   - Conferir n√∫meros com banco
   - Validar filtros de tenant
   - Checar c√°lculos de percentual

2. **Responsividade:**
   - Mobile: stack vertical
   - Tablet: 2 colunas
   - Desktop: layout completo

3. **Performance:**
   - Tempo de carregamento < 1s
   - N√∫mero de queries otimizado
   - Sem N+1 problems

4. **Interatividade:**
   - Links funcionais
   - Tooltips aparecem
   - Anima√ß√µes suaves

---

## üìù Melhorias Futuras

### **Fase 2:**
- üìä Gr√°fico de pizza (g√™nero)
- üìà Gr√°fico de linha (admiss√µes/m√™s)
- üéØ Taxa de turnover
- üí∞ Custo total de folha
- üìÖ Previs√£o de f√©rias

### **Fase 3:**
- üîî Notifica√ß√µes real-time
- üì• Export de relat√≥rios
- üé® Temas customiz√°veis
- üì± App mobile
- ü§ñ IA para insights

---

## ‚úÖ Checklist de Implementa√ß√£o

- ‚úÖ Componente Livewire criado
- ‚úÖ View Blade criada
- ‚úÖ Rota adicionada
- ‚úÖ Queries otimizadas
- ‚úÖ Multi-tenancy implementado
- ‚úÖ Design responsivo
- ‚úÖ Anima√ß√µes CSS
- ‚úÖ Alertas din√¢micos
- ‚úÖ A√ß√µes r√°pidas
- ‚úÖ Documenta√ß√£o completa

---

## üéâ Resultado Final

**Dashboard Profissional de N√≠vel Enterprise:**
- üìä M√©tricas em tempo real
- üé® Design moderno e atraente
- ‚ö° Performance otimizada
- üì± Totalmente responsivo
- üéØ A√ß√µes r√°pidas acess√≠veis
- üö® Alertas contextuais
- ‚ú® Anima√ß√µes suaves

---

**Acesse:** `http://soserp.test/hr/dashboard`

**Status:** ‚úÖ **100% COMPLETO**  
**Design:** üé® **Enterprise Grade UI/UX**  
**Performance:** ‚ö° **Otimizado**  
**Data:** 12 de outubro de 2025
